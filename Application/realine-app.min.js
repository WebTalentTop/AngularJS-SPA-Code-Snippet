function PageLink(e,t,n){this.Url=e,this.ShowAdditional=t,this.Away=n}!function(e){"use strict";e.realineModule.constant("errorConstants",{clientErrorTitle:"Script Error:"}),e.realineModule.constant("authConstants",{cookie:"X-PlatformAuth",header:"X-PlatformAuth",localStorage:"X-PlatformAuth"}),e.realineModule.constant("customHeaders",{version:"X-ApiVersion"}),e.realineModule.constant("events",{login:"login",logout:"logout",companyLogout:"companyLogout",unreadConversationsChanged:"chat.unreadConversationsChanged",conversationOpen:"chat.conversationOpen",conversationClosed:"chat.conversationClosed",createBusinessObjectConversation:"chat.createBusinessObjectConversation",createConversation:"chat.createConversation",createStreamConversation:"chat.createStreamConversation",openChildConversation:"chat.openChildConversation",setMessageTextForConversation:"chat.setMessageTextForConversation",userStatusChanged:"chat.userStatusChanged",closeAllChatTabs:"chat.closeAllchatWindows",setMuteAllConversations:"chat.setMuteAllConversations",muteAllConversationsChanged:"chat.setMuteAllConversationsChanged",openMessenger:"chat.openMessenger",conversationOpenedOnPage:"chat.conversationOpenedOnPage",newMessageReceived:"chat.newMessageReceived",businessObjectRecordOpened:"chat.businessObjectRecordOpened",businessObjectRecordClosed:"chat.businessObjectRecordClosed",streamsAreaOpened:"chat.streamsAreaOpened",streamsAreaClosed:"chat.streamsAreaClosed",hideStreamsConversations:"chat.hideStreamsConversations",setUserStatus:"chat.setUserStatus",setupUnavailableMessage:"chat.setupUnavailableMessage",activeFolderChanged:"chat.activeFolderChanged"}),e.realineModule.constant("validationRegex",{email:/^[_a-zA-Z0-9]+(\.[_a-zA-Z0-9]+)*@[a-zA-Z0-9-]+(\.[a-z0-9-]+)*(\.[a-zA-Z]{2,4})$/,login:/^[a-zA-Z]/,postalCodeUS:/^(\d{5}(-\d{4})?|[A-Z]\d[A-Z] *\d[A-Z]\d)$/}),e.realineModule.constant("messages",{savedSuccessfully:"The record was saved successfully.",companyLogged:"Company logged successfully",doYouWantToDelete:"Are you sure you want to permanently delete item?",deletedSuccessfully:"The record was deleted successfully.",login:{userNotFound:'User "Login" is not found'},titles:{success:"Success"},validation:{userChangePassword:{passwordRequired:"Password is required.",passwordLength:"Password minimal length is 8 symbols.",passwordEquality:"Password does not matches."}},notifications:{passwordChanged:"Your password has been successfully changed."}}),e.realineModule.constant("countries",[{name:"United States",key:"US"},{name:"Mexico",key:"MX"}]),e.realineModule.constant("countryPhoneCodes",[{name:"+1",key:"US"},{name:"+52",key:"MX"}])}(window),function(e){"use strict";e.realineModule.constant("CoreEnums",{HubConnectionState:{Connecting:"Connecting",Connected:"Connected",Reconnecting:"Reconnecting",Disconnected:"Disconnected"},CollectionAction:{Add:"Add",Remove:"Remove",Replace:"Replace",Move:"Move",Reset:"Reset"},DictionaryAction:{Add:"Add",Remove:"Remove"},IdPropertyName:"Id"})}(window),function(e){"use strict";var t=e.Realine.configurator||{},n="https://test.messenger.realine.net/",i=n+"infrastructure",r=n+"social",o=n+"utility",s=n+"business",a={auth:"/Platform.Auth.Web",context:"/Platform.ContextMasterDirectory.Web",socialSearch:"/Platform.SocialSearch.Web",socialProfile:"/Platform.SocialProfile.Web",socialNewsfeed:"/Platform.SocialNewsfeed.Web",companySetup:"/Platform.CompanySetup.Web",feedback:"/Platform.Feedback.Web",referrals:"/Platform.Referral.Web",globaldictionarydata:"/Platform.globaldictionarydata.web",userImageGalery:"/Platform.ImageStorage.Web",companyImageGalery:"/SocialCompanyUserPlatform.ImageStorage.Web",eventFeed:"/Platform.EventFeed.Web/"};e.Realine.configurator=t,t.domainsConfigurator={_pathSeparator:"/",buildDomain:function(){var e=Array.prototype.slice.call(arguments).join(this._pathSeparator);return e}},e.realineModule.constant("Domains",{Domain:i,Auth:i+a.auth,UserImagesGalery:i+a.userImageGalery+"/api/ImageStorage/Save",CompanyImagesGalery:r+a.companyImageGalery+"/api/ImageStorage/Save",Company:i,ShipmentRequests:i,Self:"http://localhost:49943",Captcha:"/Captcha/Get",Context:i+a.context,SocialSearch:r+a.socialSearch,SocialProfile:r+a.socialProfile,SocialNewsfeed:r+a.socialNewsfeed,CompanySetup:i+a.companySetup,Feedback:o+a.feedback,Referrals:o+a.referrals,GlobalDictionaryData:i+a.globaldictionarydata,CompanyAuth:s+a.auth,EventFeed:r+a.eventFeed,MessengerServer:"https://test.messenger.realine.net/signalr/",MessengerUser:"https://test.messenger.realine.net/utility/platform.messenger.web/",MessengerDocumentStorage:"http://test.realine.net/utility/platform.DocumentStorage.Web",MessengerImagesStorage:"http://test.realine.net/infrastructure/Platform.ImageStorage.Web"})}(window),function(e){"use strict";e.realineModule.factory("EntityCollection",["ObservableCollection",function(e){var t=e.extend({init:function(){this._super(),this.__ClassName="EntityCollection"},findById:function(e){return this.find(function(t){return t.getId()===e})},containsById:function(e){return this.contains(function(t){return t.getId()===e})},removeById:function(e){var t=this.findById(e);null!==t&&this.remove(t)},containsAnyId:function(e){var t;for(t=0;t<e.length;t++)if(this.containsById(e[t]))return!0;return!1},containsAny:function(e){var t;for(t=0;t<e.length;t++)if(this.containsById(e[t].getId()))return!0;return!1}});return t}])}(window),function(e){"use strict";e.realineModule.factory("EntityDictionary",["EventManager","CoreEnums",function(t,n){var i="dictionary changed",r=Class.extend({init:function(){this.__ClassName="EntityDictionary",this.dict={},this.eventManager=new t},contains:function(e){return this.dict.hasOwnProperty(e.getId())},containsId:function(e){return this.dict.hasOwnProperty(e)},add:function(t){var n,i;if(!e.angular.isArray(t))return this.contains(t)?[]:(this.dict[t.getId()]=t,this.fireAdd([t]),[t]);for(i=[],n=0;n<t.length;n++)this.contains(t[n])||(this.dict[t[n].getId()]=t[n],i.push(t[n]));return this.fireAdd(i),i},remove:function(t){if(!e.angular.isArray(t))return this.fireRemove([this.dict[t.getId()]]),void delete this.dict[t.getId()];var n,i=[];for(n=0;n<t.length;n++)i.push(this.dict[t[n].getId()]),delete this.dict[t[n].getId()];this.fireRemove(i)},removeById:function(e){this.containsId(e)&&(this.fireRemove([this.dict[e]]),delete this.dict[e])},clear:function(){this.dict={}},get:function(e){return this.dict[e]?this.dict[e]:null},list:function(){var e,t=[];for(e in this.dict)t.push(this.dict[e]);return t},bindDictionaryChanged:function(e,t){this.eventManager.bind(i,e,t)},unbindDictionaryChanged:function(e,t){this.eventManager.detach(i,e,t)},fireAdd:function(e){var t={action:n.DictionaryAction.Add,items:e};this.fireCollectionChanged(t)},fireRemove:function(e){var t={action:n.DictionaryAction.Remove,items:e};this.fireCollectionChanged(t)},fireCollectionChanged:function(e){e.type=i,e.sender=this,this.eventManager.fire(e)}});return r}])}(window),function(e){"use strict";e.realineModule.factory("EntityModel",["ObservableObject",function(t){function n(e,t){return typeof e!=typeof t?!1:e instanceof Date&&t instanceof Date?e.valueOf()===t.valueOf():e===t}var i=t.extend({init:function(t){this._super(),this.__ClassName="EntityModel",t||(t={}),this.data={},e.angular.extend(this.data,t)},getId:function(){return this.data.Id},setId:function(e){this.set("Id",e)},set:function(e,t,i){var r,o=this.get(e);if(!n(t,o)){if(r={oldValue:o,newValue:t,cancel:!1,silent:!1},this.firePropertyChanging(e,r),r.cancel)return;if(this.data[e]=t,i||r.silent)return this;this.firePropertyChanged(e,o,t)}},get:function(e){if(void 0===e)return this.data;if("string"==typeof e)return this.data[e];throw"Unknown argument for getter."}});return i}])}(window),function(e){"use strict";e.realineModule.factory("HubBase",["EventManager",function(e){var t=Class.extend({init:function(t){this.eventManager=new e,this.hub=t,this.bindHubEvents()},bindHubEvents:function(){}});return t}])}(window),function(e){"use strict";e.realineModule.factory("ObservableCollection",["EventManager","CoreEnums",function(t,n){var i="collection changed",r=Class.extend({init:function(){this.__ClassName="ObservableCollection",this.list=[],this.eventManager=new t},push:function(t){e.angular.isArray(t)||(t=[t]),0!==t.length&&(Array.prototype.push.apply(this.list,t),this.fireAdd(this.list.length-t.length,t))},shift:function(){var e=this.first();return null===e?null:(this.removeAt(0),e)},pop:function(){var e=this.last();return null===e?null:void this.removeAt(this.list.length-1)},unshift:function(t){e.angular.isArray(t)||(t=[t]),0!==t.length&&(Array.prototype.unshift.apply(this.list,t),this.fireAdd(0,t))},insert:function(t,n){e.angular.isArray(n)||(n=[n]),0!==n.length&&(Array.prototype.splice.bind(this.list,t,0).apply(this.list,n),this.fireAdd(t,n))},remove:function(e){var t=this.list.indexOf(e);0>t||(this.list.splice(t,1),this.fireRemove(t,[e]))},removeAt:function(e,t){var n;void 0===t||null===t?(n=[this.list[e]],this.list.splice(e,1),this.fireRemove(e,n)):(n=this.list.slice(e,e+t),this.list.splice(e,t),this.fireRemove(e,n))},move:function(e,t){var n=this.list[e],i=t>e?t-1:t;e!==t&&(this.list.splice(e,1),this.list.splice(i,0,n),this.fireMove(e,t,n))},get:function(e){return this.list[e]},set:function(e,t){var n=this.list[e];this.fireReplace(e,[t],[n])},first:function(){return 0===this.list.length?null:this.list[0]},last:function(){return 0===this.list.length?null:this.list[this.list.length-1]},count:function(){return this.list.length},length:function(){return this.list.length},clear:function(){var e=this.list;this.list=[],e.length>0&&this.fireRemove(0,e)},indexOf:function(e){return this.list.indexOf(e)},lastIndexOf:function(e){return this.list.lastIndexOf(e)},contains:function(e,t){return null!==this.find(e,t)},find:function(e,t){return this.list.findItem(e,t)},findReverse:function(e,t){var n;for(n=this.list.length-1;n>=0;n--)if(e.call(t,this.list[n],n,this))return this.list[n];return null},findIndex:function(e,t){return this.list.findIndex(e,t)},filter:function(e,t){return this.list.filter(e,t)},map:function(e,t){return this.list.map(e,t)},forEach:function(e,t){var n;for(n=0;n<this.list.length;n++)e.call(t,this.list[n])},slice:function(e,t){return this.list.slice(e,t)},sublist:function(e,t){return this.list.slice(e,e+t)},cloneArray:function(){return this.slice(0)},insertSorted:function(e,t,n){var i=_.sortedIndex(this.list,e,t,n);this.insert(i,e)},bindCollectionChanged:function(e,t){this.eventManager.bind(i,e,t)},unbindCollectionChanged:function(e,t){this.eventManager.detach(i,e,t)},fireCollectionChanged:function(e){e.type=i,e.sender=this,this.eventManager.fire(e)},fireAdd:function(e,t){var i={action:n.CollectionAction.Add,newStartingIndex:e,newItems:t};this.fireCollectionChanged(i)},fireRemove:function(e,t){var i={action:n.CollectionAction.Remove,oldStartingIndex:e,oldItems:t};this.fireCollectionChanged(i)},fireReplace:function(e,t,i){var r={action:n.CollectionAction.Replace,newStartingIndex:e,newItems:t,oldItems:i};this.fireCollectionChanged(r)},fireMove:function(e,t,i){var r={action:n.CollectionAction.Move,oldIndex:e,newIndex:t,item:i};this.fireCollectionChanged(r)},fireReset:function(e,t){var i={action:n.CollectionAction.Reset,newList:e,oldList:t};this.fireCollectionChanged(i)}});return r}])}(window),function(e){"use strict";e.realineModule.factory("ObservableObject",["EventManager",function(e){var t="property changed",n="property changing",i=Class.extend({init:function(){this.eventManager=new e},firePropertyChanging:function(e,t){var i={type:n,target:this,property:e,cancel:t.cancel,silent:t.silent,oldValue:t.oldValue,newValue:t.newValue};this.eventManager.fire(i),t.cancel=i.cancel,t.silent=i.silent},bindPropertyChanging:function(e,t){this.eventManager.bind(n,e,t)},unbindPropertyChanging:function(e,t){this.eventManager.detach(n,e,t)},firePropertyChanged:function(e,n,i){this.eventManager.fire({type:t,target:this,property:e,oldValue:n,newValue:i})},bindPropertyChanged:function(e,n){this.eventManager.bind(t,e,n)},unbindPropertyChanged:function(e,n){this.eventManager.detach(t,e,n)}});return i}])}(window),function(e){"use strict";e.realineModule.factory("UniqueEntityCollection",["EntityCollection","EntityDictionary","CoreEnums","observable",function(e,t,n,i){var r=e.extend({init:function(){this._super(),this.dict=new t,this.__ClassName="UniqueEntityCollection"},push:function(e){var t=this.dict.add(e);this._super(t)},unshift:function(e){var t=this.dict.add(e);this._super(t)},insert:function(e,t){var n=this.dict.add(t);this._super(e,n)},remove:function(e){this.dict.contains(e)&&(this.dict.remove(e),this._super(e))},removeAt:function(e,t){var n;(void 0===t||null===t)&&(t=1),n=this.list.slice(e,e+t),this.dict.remove(n),this._super(e,t)},set:function(e,t){throw new Error("Not supported.")},clear:function(){this.dict.clear(),this._super()},findById:function(e){return this.dict.get(e)},containsById:function(e){return this.dict.containsId(e)},containsAnyId:function(e){var t;for(t=0;t<e.length;t++)if(this.dict.containsId(e[t]))return!0;return!1},containsAny:function(e){var t;for(t=0;t<e.length;t++)if(this.dict.containsId(e[t].getId()))return!0;return!1},containsAll:function(e){var t;for(t=0;t<e.length;t++)if(!this.dict.containsId(e[t].getId()))return!1;return!0},removeById:function(e){var t=this.findById(e);null!==t&&this.remove(t)},onItemPropertyChanged:function(e){e.property===n.IdPropertyName&&(this.dict.removeById(e.oldValue),this.dict.add(e.target))},fireCollectionChanged:function(e){switch(this._super(e),e.action){case n.CollectionAction.Add:this.onItemsAdded(e);break;case n.CollectionAction.Remove:this.onItemsRemoved(e);break;case n.CollectionAction.Replace:this.onItemsReplaced(e);break;case n.CollectionAction.Move:break;case n.CollectionAction.Reset:this.onItemsReset(e)}},onItemsAdded:function(e){i.bindPropertyChanged(e.newItems,this.onItemPropertyChanged,this)},onItemsRemoved:function(e){i.unbindPropertyChanged(e.oldItems,this.onItemPropertyChanged,this)},onItemsReplaced:function(e){i.unbindPropertyChanged(e.oldItems,this.onItemPropertyChanged,this),i.bindPropertyChanged(e.newItems,this.onItemPropertyChanged,this)},onItemsReset:function(e){i.unbindPropertyChanged(e.oldList,this.onItemPropertyChanged,this),i.bindPropertyChanged(e.newList,this.onItemPropertyChanged,this)}});return r}])}(window),function(e){"use strict";e.realineModule.factory("busyIndicator",["$log",function(e){var t=Class.extend({init:function(){this.__ClassName="busyIndicator",this.requestCount=0},begin:function(){this.requestCount++},end:function(){return this.requestCount<1?void e.debug("busyIndicator: tried to decrease counter: "+this.requestCount):void this.requestCount--},isBusy:function(){return this.requestCount>0},reset:function(){this.requestCount=0}});return t}])}(window),function(e){"use strict";e.realineModule.factory("errorMessageProvider",[function(){var e={getApiErrorMessage:function(e){var t,n,i="";if(e.Status)throw new Error("Request is not failed.");for(var t=0;t<e.Errors.length;t++)t>0&&(i+=" "),n=e.Errors[t],i+=e.Errors[t].ErrorMessage;return i}};return e}])}(window),function(e){"use strict";e.realineModule.factory("EventManager",["$log",function(e){var t,n=Class.extend({init:function(){this._listeners={}},bind:function(e,n,i){this._listeners[e]===t&&(this._listeners[e]=[]),this._listeners[e].push({handler:n,context:i})},bindOnce:function(e,n,i){this._listeners[e]===t&&(this._listeners[e]=[]),this._listeners[e].push({handler:function(t,r){return function(o){n.call(i,o),t._listeners[e]instanceof Array&&t._listeners[e].splice(r,1)}}(this,this._listeners[e].length),context:i})},fire:function(e){if("string"==typeof e&&(e={type:e}),!e.type)throw new Error("Event object missing 'type' property.");if(this._listeners[e.type]instanceof Array){var t=this._listeners[e.type];if(0===t.length)return!1;for(var n=0;n<t.length;n++)t[n].handler.call(t[n].context,e);return!0}return!1},detach:function(n,i,r){if(r===t&&e.debug(new Error("EventManager.detach: context is not specified. Memory leak is possible.").stack),this._listeners[n]instanceof Array){var o=this._listeners[n];if(i===t)this._listeners[n]=[];else for(var s=0;s<o.length;s++)if(o[s].handler===i&&o[s].context===r){o.splice(s,1);break}}},hasListeners:function(e){return this._listeners[e]instanceof Array?this._listeners[e].length>0:!1}});return n}])}(window),function(e){"use strict";var t=e.Realine.extendApplier||{};e.Realine.extendApplier=t,t.applyFn=function(){var t=Array.prototype.slice.call(arguments,0),n=t[0],i=t.slice(1);e.jQuery.extend(this,n.prototype),this.init.apply(this,i)},t.applyObj=function(){var t=Array.prototype.slice.call(arguments,0),n=t[0];e.jQuery.extend(this,n)}}(window),function(e){"use strict";e.realineModule.factory("$",[function(){return e.jQuery.noConflict()}]),e.realineModule.factory("_",[function(){return e._}]),e.realineModule.factory("momentObj",[function(){return{moment:e.moment}}])}(window),function(e){"use strict";e.realineModule.factory("messageBus",["EventManager",function(e){return new e}])}(window),function(e){"use strict";e.realineModule.factory("observable",["utils",function(t){var n={bindPropertyChanged:function(n,i,r){var o,s;for(!t.common.isNullOrUndefined(n.list)&&e.angular.isArray(n.list)&&(n=n.list),o=0;o<n.length;o++)s=n[o],s.bindPropertyChanged(i,r)},unbindPropertyChanged:function(n,i,r){var o,s;for(!t.common.isNullOrUndefined(n.list)&&e.angular.isArray(n.list)&&(n=n.list),o=0;o<n.length;o++)s=n[o],s.unbindPropertyChanged(i,r)},bindCollectionChanged:function(n,i,r){var o,s;for(!t.common.isNullOrUndefined(n.list)&&e.angular.isArray(n.list)&&(n=n.list),o=0;o<n.length;o++)s=n[o],s.bindCollectionChanged(i,r)},unbindCollectionChanged:function(n,i,r){var o,s;for(!t.common.isNullOrUndefined(n.list)&&e.angular.isArray(n.list)&&(n=n.list),o=0;o<n.length;o++)s=n[o],s.unbindCollectionChanged(i,r)}};return n}])}(window),function(e){"use strict";e.angular.module("cgBusy",[]),e.angular.module("cgBusy").factory("_cgBusyTrackerFactory",["$timeout","$q",function(t,n){return function(){var i={};i.promises=[],i.delayPromise=null,i.durationPromise=null,i.delayJustFinished=!1,i.reset=function(n){i.minDuration=n.minDuration,i.promises=[],e.angular.forEach(n.promises,function(e){e&&!e.$cgBusyFulfilled&&r(e)}),0!==i.promises.length&&(i.delayJustFinished=!1,n.delay&&(i.delayPromise=t(function(){i.delayPromise=null,i.delayJustFinished=!0},parseInt(n.delay,10))),n.minDuration&&(i.durationPromise=t(function(){i.durationPromise=null},parseInt(n.minDuration,10)+(n.delay?parseInt(n.delay,10):0))))},i.isPromise=function(e){var t=e&&(e.then||e.$then||e.$promiseThing&&e.$promiseThing.then);return"undefined"!=typeof t},i.callThen=function(e,t,i){var r;e.then||e.$then?r=e:e.$promise?r=e.$promise:e.denodeify&&(r=n.when(e));var o=r.then||r.$them;o.call(r,t,i)};var r=function(e){if(!i.isPromise(e))throw new Error("cgBusy expects a promise (or something that has a .promise or .$promise");-1===i.promises.indexOf(e)&&(i.promises.push(e),i.callThen(e,function(){e.$cgBusyFulfilled=!0,-1!==i.promises.indexOf(e)&&i.promises.splice(i.promises.indexOf(e),1)},function(){e.$cgBusyFulfilled=!0,-1!==i.promises.indexOf(e)&&i.promises.splice(i.promises.indexOf(e),1)}))};return i.active=function(){return i.delayPromise?!1:i.delayJustFinished?(i.delayJustFinished=!1,i.promises.length>0):i.durationPromise?!0:i.promises.length>0},i}}]),e.angular.module("cgBusy").value("cgBusyDefaults",{}),e.angular.module("cgBusy").directive("cgBusy",["$compile","$templateCache","cgBusyDefaults","$http","_cgBusyTrackerFactory",function(t,n,i,r,o){return{restrict:"A",link:function(s,a,u,c){var l=a.css("position");("static"===l||""===l||"undefined"==typeof l)&&a.css("position","relative");var d,f,h,g,p,m=o(),v={templateUrl:"angular-busy.html",delay:0,minDuration:0,backdrop:!0,message:"Please Wait..."};e.angular.extend(v,i),s.$watchCollection(u.cgBusy,function(i){if(i||(i={promise:null}),e.angular.isString(i))throw new Error("Invalid value for cg-busy. cgBusy no longer accepts string ids to represent promises/trackers.");(e.angular.isArray(i)||m.isPromise(i))&&(i={promise:i}),i=e.angular.extend(e.angular.copy(v),i),i.templateUrl||(i.templateUrl=v.templateUrl),e.angular.isArray(i.promise)||(i.promise=[i.promise]),g||(g=s.$new()),g.$message=i.message,e.angular.equals(m.promises,i.promise)||m.reset({promises:i.promise,delay:i.delay,minDuration:i.minDuration}),g.$cgBusyIsActive=function(){return m.active()},d&&h===i.templateUrl&&p===i.backdrop||(d&&d.remove(),f&&f.remove(),h=i.templateUrl,p=i.backdrop,r.get(h,{cache:n}).success(function(n){if(i.backdrop="undefined"==typeof i.backdrop?!0:i.backdrop,i.backdrop){var r='<div class="cg-busy cg-busy-backdrop cg-busy-backdrop-animation ng-hide" ng-show="$cgBusyIsActive()"></div>';f=t(r)(g),a.append(f)}var o='<div class="cg-busy cg-busy-animation ng-hide" ng-show="$cgBusyIsActive()">'+n+"</div>";d=t(o)(g),e.angular.element(d.children()[0]).css("position","absolute").css("top",0).css("left",0).css("right",0).css("bottom",0),a.append(d)}).error(function(e){throw new Error("Template specified for cgBusy ("+i.templateUrl+") could not be loaded. "+e)}))},!0)}}}]),e.angular.module("cgBusy").run(["$templateCache",function(e){e.put("angular-busy.html",'<div class="cg-busy-default-wrapper">\n\n           <div class="cg-busy-default-sign">\n\n              <div class="cg-busy-default-spinner">\n                 <div class="bar1"></div>\n                 <div class="bar2"></div>\n                 <div class="bar3"></div>\n                 <div class="bar4"></div>\n                 <div class="bar5"></div>\n                 <div class="bar6"></div>\n                 <div class="bar7"></div>\n                 <div class="bar8"></div>\n                 <div class="bar9"></div>\n                 <div class="bar10"></div>\n                 <div class="bar11"></div>\n                 <div class="bar12"></div>\n              </div>\n\n              <div class="cg-busy-default-text">{{$message}}</div>\n\n           </div>\n\n        </div>')}])}(window),function(){"use strict";angular.module("angularLoad",[]).service("angularLoad",["$document","$q","$timeout",function(e,t,n){function i(e){var i={};return function(r){if("undefined"==typeof i[r]){var o,s=t.defer();if(Array.isArray(r))for(var a=0;a<r.length;a++)o=e(r[a]),o.onload=o.onreadystatechange=function(e){n(function(){s.resolve(e)})},o.onerror=function(e){n(function(){s.reject(e)})};else o=e(r),o.onload=o.onreadystatechange=function(e){n(function(){s.resolve(e)})},o.onerror=function(e){n(function(){s.reject(e)})};i[r]=s.promise}return i[r]}}this.loadScript=i(function(t){var n=e[0].createElement("script");return n.src=t,e[0].body.appendChild(n),n}),this.loadCSS=i(function(t){var n=e[0].createElement("link");return n.rel="stylesheet",n.type="text/css",n.href=t,e[0].head.appendChild(n),n})}])}(),function(e){e.realineModule.directive("autoFullHeight",["$window","$","$log","$timeout","messageBus",function(t,n,i,r,o){return{restrict:"A",scope:{fullHeightTrigger:"=",resizeEventName:"@"},link:function(s,a,u){function c(){var e=0,t=h.height();f.each(function(t,i){e+=n(i).outerHeight(!0)}),a.outerHeight(t-e),i.debug("onWindowResize")}function l(e){c()}var d=e.angular.element(t),f=a.siblings(),h=a.parent(),g=s.resizeEventName;d.on("resize",c),g&&o.bind(g,l,this),a.on("$destroy",function(){d.off("resize",c),g&&o.detach(g,l,this)}.bind(this)),s.$watch("fullHeightTrigger",function(e){i.debug("fullHeightTrigger"),e&&c()}),r(c,0)}}}])}(window),function(e){"use strict";function t(e){return{$setViewValue:function(e){this.$viewValue=e},$viewValue:e}}e.realineModule.directive("autoScroll",function(){return{priority:1,require:["?ngModel"],restrict:"A",link:function(e,n,i,r){function o(){a.scrollTop=a.scrollHeight}function s(){return a.scrollTop+a.clientHeight+1>=a.scrollHeight}var a=n[0],u=r[0]||t(!0);e.$watch(function(){u.$viewValue&&o()}),n.bind("scroll",function(){var t=s();t!==u.$viewValue&&e.$apply(u.$setViewValue.bind(u,t))})}}})}(window),function(e){"use strict";e.realineModule.directive("errSrc",function(){return{link:function(e,t,n){t.bind("error",function(){n.src!==n.errSrc&&n.$set("src",n.errSrc)}),n.$observe("ngSrc",function(e){!e&&n.errSrc&&n.$set("src",n.errSrc)})}}})}(window),function(e){"use strict";e.realineModule.directive("flashing",["$interval",function(e){return{restrict:"A",link:function(t,n,i,r){function o(){return t.$eval(i.flashing)}function s(){n.addClass(c),u=e(function(){n.toggleClass(c)},l)}function a(){n.removeClass(c),e.cancel(u)}var u,c=i.flashingClass,l=i.flashingInterval;t.$watch(o,function(e,t){e?s():a()}),t.$on("$destroy",function(){a()})}}}])}(window),function(e){"use strict";e.realineModule.directive("focusMe",["$timeout",function(e){return{link:function(t,n,i){t.$watch(i.focusMe,function(t){t&&e(function(){n[0].focus()},100)})}}}])}(window),function(e){"use strict";e.realineModule.directive("infiniteScroll",[function(){return{link:function(e,t,n){var i=parseInt(n.threshold)||0,r=t[0];t.bind("scroll",function(){e.$eval(n.canLoad)&&r.scrollTop+r.offsetHeight>=r.scrollHeight-i&&e.$apply(n.infiniteScroll)})}}}])}(window),function(e){"use strict";e.realineModule.directive("infiniteUpwardScroll",["$timeout","$log",function(e,t){return{restrict:"A",scope:{scrollCallback:"&"},link:function(t,n,i,r){var o=n[0],s=!1,a=n.scrollTop();n.bind("scroll",function(){if(!s&&!(o.scrollHeight<=o.clientHeight||0===a&&0===n.scrollTop()||(a=n.scrollTop(),0!==o.scrollTop))){var i=o.scrollHeight,r=t.scrollCallback();r&&r.then(function(t){t&&(s=!0,e(function(){n.animate({scrollTop:o.scrollHeight-i},100),s=!1},0))})}})}}}])}(window),function(e){"use strict";e.realineModule.directive("navHref",["pageNavigationService","utils",function(e,t){return{restrict:"A",link:function(n,i,r){var o=r.navHref;t.common.isNullOrEmpty(o)||i.click(function(i){var s=r.navId,a={},u=n.$eval(s);t.common.isNullOrEmpty(u)||(a.Id=u),e.changeLocation(o,a)})}}}])}(window),function(e){"use strict";e.realineModule.directive("navSearch",["appConfig",function(e){return{restrict:"E",templateUrl:"/Application/App/Directives/Templates/nav-search.html",link:function(t,n,i){t.resultList=new Array;for(var r=0;50>r;r++)t.resultList[r]="Test data"+r;t.link=e}}}])}(window),function(e){"use strict";e.realineModule.directive("navServices",["appConfig",function(e){return{restrict:"E",templateUrl:"/Application/App/Directives/Templates/nav-services.html",link:function(t,n,i){t.isOpened=!1,t.link=e},controller:["$scope",function(e){e.tooglePanel=function(){e.isOpened=!e.isOpened}}]}}])}(window),function(e){"use strict";e.realineModule.directive("ngEnter",function(){return function(e,t,n){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(n.ngEnter,{event:t})}),t.preventDefault())})}})}(window),function(e){"use strict";e.realineModule.directive("ngHtmlCompile",["$compile",function(e){return{restrict:"A",link:function(t,n,i){t.$watch(i.ngHtmlCompile,function(i,r){n.html(i),e(n.contents())(t)})}}}])}(window),function(e){"use strict";e.realineModule.directive("oBind",["$filter","utils",function(e,t){return{priority:1,restrict:"A",link:function(n,i,r,o){var s=/([_$0-9a-z]+)\.([_$0-9a-z]+)(\|([_$0-9a-z]+)(:(.*))?)?/i,a=Class.extend({init:function(e,t){if(this.scope=e,this.bindingString=t,!this.parseBinding())throw new Error("oBind: Binding must be in format: variable.property|filter:param_for_filter");this.prepareBinding(),this.bindEvents(),this.evalBinding()},parseBinding:function(){var e,t,n;return s.test(this.bindingString)?(e=this.bindingString.indexOf("|"),t=-1===e?this.bindingString:this.bindingString.substring(0,e),n=t.split("."),this.binding={variable:n[0],property:n[1]},-1===e?!0:this.parseFilter(this.bindingString.substring(e+1))):!1},parseFilter:function(e){var t,n=e.indexOf(":");return-1===n?(this.binding.filterName=e,!0):(this.binding.filterName=e.substring(0,n),t=e.substring(n+1),this.binding.filterParams=[t],!0)},prepareBinding:function(){this.object=this.scope.$eval(this.binding.variable),t.common.isNullOrUndefined(this.binding.filterName)||(this.binding.filter=e(this.binding.filterName))},evalBinding:function(){var e,n=this.object.get(this.binding.property),i=[];if(t.common.isNullOrUndefined(this.binding.filter))return void this.scope.setText(n);for(e=0;e<this.binding.filterParams.length;e++)i.push(this.scope.$eval(this.binding.filterParams[e]));i.unshift(n),n=this.binding.filter.apply(this,i),this.scope.setText(n)},objectPropertyChanged:function(e){e.property===this.binding.property&&this.evalBinding()},bindEvents:function(){this.object.bindPropertyChanged(this.objectPropertyChanged,this),this.scope.$on("$destroy",this.onDestroy.bind(this))},onDestroy:function(){this.object.unbindPropertyChanged(this.objectPropertyChanged,this)}});n.setText=function(e){i.text(e)},n.controller=new a(n,r.oBind)}}}])}(window),function(e){"use strict";e.realineModule.directive("oRepeat",["CoreEnums","ObservableCollection","$animate","$parse","$log","utils",function(e,t,n,i,r,o){var s=Class.extend({init:function(e,n,i,r){this.scope=e,this.element=n,this.attr=i,this.linker=r,this.elements=new t,this.collection=null,this.parseExpression(),this.bindEvents()},parseExpression:function(){var e=this.attr.oRepeat,t=e.match(/^\s*(.+)\s+in\s+(.*?)$/);if(!t)throw Error("Expected oRepeat in form of '_item_ in _collection_' but got '"+e+"'.");if(this.iterVariable=t[1],this.collectionExpression=t[2],t=this.iterVariable.match(/^(?:([\$\w]+))$/),!t)throw Error("'item' in 'item in collection' should be identifier but got '"+lhs+"'.");this.collection=this.scope.$eval(this.collectionExpression)},bindEvents:function(){o.common.isNullOrUndefined(this.collection)?this.deregisterCollectionWatch=this.scope.$watch(this.collectionExpression,function(e,t){o.common.isNullOrUndefined(t)||t.unbindCollectionChanged(this.Collection_Changed,this),this.collection=e,o.common.isNullOrUndefined(e)||(this.collection.bindCollectionChanged(this.Collection_Changed,this),this.renderItems(0,this.collection.list)),this.deregisterCollectionWatch(),this.deregisterCollectionWatch=null}.bind(this)):(this.collection.bindCollectionChanged(this.Collection_Changed,this),this.renderItems(0,this.collection.list)),this.scope.$on("$destroy",function(){o.common.isNullOrUndefined(this.collection)||this.collection.unbindCollectionChanged(this.Collection_Changed,this),o.common.isNullOrUndefined(this.deregisterCollectionWatch)||(this.deregisterCollectionWatch(),this.deregisterCollectionWatch=null)}.bind(this))},Collection_Changed:function(t){switch(t.action){case e.CollectionAction.Add:this.onItemsAdded(t);break;case e.CollectionAction.Remove:this.onItemsRemoved(t);break;case e.CollectionAction.Replace:break;case e.CollectionAction.Move:this.onItemMoved(t);break;case e.CollectionAction.Reset:}},onItemsAdded:function(e){this.renderItems(e.newStartingIndex,e.newItems)},onItemsRemoved:function(e){var t,n;for(t=0;t<e.oldItems.length;t++)n=this.elements.get(t+e.oldStartingIndex),n.scope.$destroy(),n.node.remove();this.elements.removeAt(e.oldStartingIndex,e.oldItems.length)},onItemMoved:function(e){var t,n=this.elements.get(e.oldIndex),i=e.newIndex>e.oldIndex?e.newIndex-1:e.newIndex;n.node.detach(),0===e.newIndex?this.element.after(n.node):(t=this.elements.get(i),t.after(n.node))},renderItems:function(e,t){var n,i,r=0,o=document.createDocumentFragment(),s=[],a=this.element;for(r=0;r<t.length;r++)n={scope:this.scope.$new()},n.scope[this.iterVariable]=t[r],s.push(n),i=this.linker(n.scope,function(e){o.appendChild(e[0]),n.node=e}.bind(this));0===e?this.elements.unshift(s):e===this.elements.length()?this.elements.push(s):this.elements.insert(e,s),e>0&&this.elements.length()>0&&(a=this.elements.get(e-1).node),a.after(o)}});return{restrict:"A",scope:!0,transclude:"element",priority:1e3,terminal:!0,multiElement:!0,$$tlb:!0,compile:function(e,t,n){return function(e,t,i){e._controller=new s(e,t,i,n)}}}}])}(window),function(e){
e.realineModule.directive("outsideClick",["$document",function(e){return{link:function(t,n,i){var r=i.outsideClick,o=function(e){var i=n.find(e.target).length>0;i||n.is(e.target)||t.$apply(r)};e.on("click",o),n.on("$destroy",function(){e.off("click",o)})}}}])}(window),function(e){"use strict";e.realineModule.directive("tplInclude",function(){return{restrict:"E",templateUrl:function(e,t){return t.src}}})}(window),function(e){"use strict";e.realineModule.directive("uiselectAutofocus",["$timeout",function(e){return{restrict:"A",require:"uiSelect",link:function(t,n,i){e(function(){var e=n.find("input");"open"==i.uiselectAutofocus&&e.click(),e.focus()},0)}}}])}(window),function(e){"use strict";e.realineModule.filter("aboveZeroFilter",function(){return function(e){return e>0?"+"+e:e}})}(window),function(e){"use strict";e.realineModule.filter("defaultValue",function(){return function(e,t){return e?e:t}})}(window),function(e){"use strict";e.realineModule.filter("friendlyDate",["$filter",function(t){function n(e){var t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()?!0:!1}var i=function(n,i){if(!e.angular.isDate(n))return"";var r=new Date;t("date")(n,"shortTime");return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()?"Today":n.getFullYear()===r.getFullYear()?t("date")(n,"d MMM"):t("date")(n,"d MMM, yyyy")};return i.isFriendly=n,i}])}(window),function(e){"use strict";e.realineModule.filter("manufactureYearsFilter",function(){return function(e,t,n){t=0===t?(new Date).getFullYear():parseInt(t);for(var i=t;i>=t+n;--i)e.push(i);return e}})}(window),function(e){"use strict";e.realineModule.filter("propsFilter",["utils",function(t){return function(n,i){var r,o,s,a=[],u=t.common;return e.angular.isArray(n)?n.forEach(function(t){for(var n=!1,c=Object.keys(i),l=0;l<c.length;l++)if(r=c[l],o=i[r].toLowerCase(),s=e.angular.isFunction(t[r])?t[r]():t[r],u.isNullOrEmpty(o)||!u.isNullOrEmpty(s)&&-1!==s.toString().toLowerCase().indexOf(o)){n=!0;break}n&&a.push(t)}):a=n,a}}])}(window),function(e){"use strict";e.realineModule.filter("timeago",["$filter",function(t){function n(e,t){return r(e).diff(t,"hours")<=3?!0:!1}var i,r=e.moment,o="shortDateTime";return i=function(i,s){if(!e.angular.isDate(i))return"";var a=new Date,u=t("date")(i,"shortTime"),c=r().add(-1,"days").toDate();return n(a,i)?r(i).fromNow():i.getFullYear()===a.getFullYear()&&i.getMonth()===a.getMonth()&&i.getDate()===a.getDate()?u:s===o?i.getFullYear()===a.getFullYear()?t("date")(i,"d MMM")+" "+u:t("date")(i,"d MMM, yyyy")+" "+u:i.getFullYear()===c.getFullYear()&&i.getMonth()===c.getMonth()&&i.getDate()===c.getDate()?"Yesterday":i.getFullYear()===a.getFullYear()?t("date")(i,"EEEE, d MMMM"):t("date")(i,"EEEE, MMMM d, y")},i.isAgotime=n,i}])}(window),function(e){"use strict";e.realineModule.factory("FloatingWindowBase",[function(){var e=Class.extend({init:function(e,t){this.scope=e,this.wnd=t,this.scope.controller=this,this.scope.$on("$destroy",function(){this.onDestroy()}.bind(this))},close:function(){this.wnd.close()},onDestroy:function(){}});return e}])}(window),function(e){"use strict";e.realineModule.factory("authService",["$q","baseService","cookieService","authConstants","Domains",function(e,t,n,i,r){var o=t.extend({_baseUrl:"api",_domain:r.Auth,init:function(e){this._super(e)},login:function(e){return this._sendPostQuery("Login",e)},getCurrentUser:function(){return this._sendGetQuery("GetCurrent")},sendCode:function(){return this._sendPostQuery("SendCode")},verify:function(e){return this._sendPostQuery("Verify",{Token:e})},signUp:function(e){return this._sendPostQuery("Register",e)},SetCompany:function(e){return this._sendPostQuery("SetCompany",{Id:e})},sendVerificationCode:function(e){return this._sendPostQuery("SendVerificationCode",{VerificationType:1,Phone:e})},logOut:function(){return this._sendPostQuery("Logout")},companyLogOut:function(e){return this._sendPostQuery("CompanyLogOut",{Id:e})},getSecurityQuestions:function(){return this._sendGetQuery("GetSecurityQuestions")},saveSecurityAnswers:function(e,t){return this._sendPostQuery("SaveSecurityAnswers",{AnswerItems:[e,t]})},getSecurityAnswers:function(){return this._sendGetQuery("GetSecurityAnswers")},changePassword:function(e){return this._sendPostQuery("ChangePassword",e)},getAdditionalData:function(){return this._sendGetQuery("GetAdditionalData")},saveContactInformation:function(e){return this._sendPostQuery("SaveInfo",e)},connectWithCode:function(e){var t={};return t.data={},t.data.Status=!0,this._returnData(t)}});return new o("Auth")}])}(window),function(e){"use strict";e.realineModule.factory("backService",["$window","$location","pageNavigationService",function(t,n,i){var r={};return{back:function(){window.historyItems.length>1?this.checkSkippingPages():this.resolveBackUri()},resolveBackUri:function(){var e,t=n.$$html5?"":"#",o=t+n.path();for(var s in i.pageLinks)if(i.pageLinks.hasOwnProperty(s)&&i.pageLinks[s].Url===o){e=s;break}var a=i.changeLocation.bind(i);a(void 0!==e&&void 0!==r[e]?r[e]:i.pageLinks.Index)},checkSkippingPages:function(){for(var e=window.historyItems.length-1;e>0;e--){var t=window.historyItems[e].$$route.pageDisplayName;if("Terms"!==t&&"About"!==t&&"Privacy Policy"!==t&&n.path()!==window.historyItems[e].$$route.originalPath){var r="Index";for(var o in i.pageLinks)if(i.pageLinks.hasOwnProperty(o)&&i.pageLinks[o].Url===window.historyItems[e].$$route.originalPath){r=o;break}return void i.changeLocation(i.pageLinks[r],window.historyItems[e].params)}}this.resolveBackUri()},addResolvePage:function(t){e.angular.extend(r,t)}}}])}(window),function(e){"use strict";e.realineModule.factory("businessObjectService",["messageBus","events","utils",function(e,t,n){var i=Class.extend({init:function(){this.dict={},this.businessObject=null},registerType:function(e){if(n.common.isNullOrUndefined(e))throw new Error("Business object type descriptor ");n.common.isNullOrEmpty(e.transactionIdPropertyName)&&n.common.isNullOrUndefined(e.transactionIdGetter)&&(e.transactionIdPropertyName="BusinessTransactionId"),n.common.isNullOrUndefined(e.transactionIdPropertyName)||(e.transactionIdGetter=function(t){return t[e.transactionIdPropertyName]}),this.dict[e.id]=e},getName:function(e){return n.common.isNullOrUndefined(this.dict[e])?null:this.dict[e].name},getEditPage:function(e){return n.common.isNullOrUndefined(this.dict[e])?null:this.dict[e].editPage},getObjectTransactionId:function(e,t){return n.common.isNullOrUndefined(this.dict[t])?null:this.dict[t].transactionIdGetter(e)},getCurrentObject:function(){return this.businessObject},openBusinessObject:function(i,r){if(n.common.isNullOrEmpty(i.type))throw new Error("Business object type cannot be empty.");if(n.common.isNullOrEmpty(i.id))throw new Error("Business object id cannot be empty.");if(n.common.isNullOrEmpty(i.transactionId))throw new Error("Business object transaction id cannot be empty.");void 0===r&&(r=!0),r&&e.fire({type:t.openMessenger,state:"maximize"}),(n.common.isNullOrUndefined(this.businessObject)||this.businessObject!==i.id)&&(this.businessObject={type:i.type,id:i.id,transactionId:i.transactionId},e.fire({type:t.businessObjectRecordOpened,data:{businessObjectType:i.type,businessObjectId:i.id,businessTransactionId:i.transactionId}}))},closeBusinessObject:function(i){if(n.common.isNullOrEmpty(i.type))throw new Error("Business object type cannot be empty.");e.fire({type:t.businessObjectRecordClosed,data:{businessObjectType:i.type,businessObjectId:i.id,businessTransactionId:i.transactionId}}),this.businessObject=null},createConversation:function(i){if(n.common.isNullOrEmpty(i.type))throw new Error("Business object type cannot be empty.");if(n.common.isNullOrEmpty(i.id))throw new Error("Business object id cannot be empty.");if(n.common.isNullOrEmpty(i.transactionId))throw new Error("Business object transaction id cannot be empty.");e.fire({type:t.createBusinessObjectConversation,data:{businessObjectType:i.type,businessObjectId:i.id,businessTransactionId:i.transactionId}})}});return new i}])}(window),function(e){"use strict";e.realineModule.factory("companyAuthService",["$q","baseService","Domains",function(e,t,n){var i=t.extend({_baseUrl:"api",_domain:n.CompanyAuth,login:function(e){return this._sendPostQuery("Login",e)}});return new i("Auth")}])}(window),function(e){"use strict";e.realineModule.factory("connectionService",["$q","baseService","Domains",function(e,t,n){var i=t.extend({_baseUrl:"api",_domain:n.SocialSearch,init:function(e){this._super(e)},searchRequests:function(e){return this._sendPostQuery("SearchRequests",e)}});return new i("Search")}])}(window),function(e){"use strict";e.realineModule.factory("contextMasterDirectoryService",["$q","baseService","Domains",function(e,t,n){var i=t.extend({_baseUrl:"api",_domain:n.Context,getUserCompanies:function(){return this._sendGetQuery("GetUserCompanies")},markContextIsActive:function(e){return this._sendPostQuery("MarkContextIsActive",e)},disconnectUser:function(e){return this._sendPostQuery("DisconnectUser",e)}});return new i("Context")}])}(window),function(e){"use strict";e.app.factory("cookieService",[function(){return{pluses:/\+/g,defaults:{},encode:function(e){return this.cookie.raw?e:encodeURIComponent(e)},decode:function(e){return this.cookie.raw?e:decodeURIComponent(e)},stringifyCookieValue:function(e){return this.encode(this.cookie.json?JSON.stringify(e):String(e))},parseCookieValue:function(e,t){if(0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),t)return e;try{return e=decodeURIComponent(e.replace(this.pluses," ")),this.cookie.json?JSON.parse(e):e}catch(n){}},read:function(e,t){var n=this.cookie.raw?e:this.parseCookieValue(e);return this.isFunction(t)?t(n):n},cookie:function(e,t,n){if(void 0!==t&&!this.isFunction(t)){if("number"==typeof n.expires){var i=n.expires,r=n.expires=new Date;r.setTime(+r+864e5*i)}return document.cookie=[this.encode(e),"=",this.stringifyCookieValue(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}for(var o=e?void 0:{},s=document.cookie?document.cookie.split("; "):[],a=0,u=s.length;u>a;a++){var c=s[a].split("="),l=this.decode(c.shift()),d=c.join("=");if(e&&e===l){o=this.read(d,t);break}e||void 0===(d=this.read(d))||(o[l]=d)}return o},rawCookie:function(e){for(var t=e?void 0:{},n=document.cookie?document.cookie.split("; "):[],i=0,r=n.length;r>i;++i){var o=n[i].split("="),s=this.decode(o.shift()),a=o.join("=");if(e&&e===s){t=this.parseCookieValue(a,!0);break}e||void 0===(a=this.read(a))||(t[s]=a)}return t},removeCookie:function(e,t){return void 0===this.cookie(e)?!1:(this.cookie(e,"",{expires:-1}),!this.cookie(e))},isFunction:function(e){return"[object Function]"==Object.prototype.toString.call(e)}}}])}(window),function(e){"use strict";e.realineModule.service("currentCompanyService",["contextMasterDirectoryService","$q","cookieService","authService","authConstants",function(e,t,n,i,r){this.currentCompany=null,this.companies=null,this.getCurrentCompanyId=function(){return null},this.getCurrentCompany=function(){if(null!=this.currentCompany){var n=t.defer();return n.resolve(this.currentCompany),n.promise}return e.getUserCompanies().then(function(e){var n,i;for(n=0;n<e.data.Model.length;n++)if(i=e.data.Model[n],i.IsLogged){this.currentCompany={GlobalIndexId:i.GlobalIndexIdOfContext,Name:i.Name};break}var r=t.defer();return r.resolve(this.currentCompany),r.promise}.bind(this))}}])}(window),function(e){"use strict";e.realineModule.factory("floatingWindowBuilder",["$animate","$document","$compile","$controller","$http","$rootScope","$q","$templateRequest","$timeout",function(e,t,n,i,r,o,s,a,u){function c(e,t){var n=s.defer();return e?n.resolve(e):t?a(t,!0).then(function(e){n.resolve(e)},function(e){n.reject(e)}):n.reject("No template or templateUrl has been specified."),n.promise}function l(t,n){var i=t.children();return i.length>0?e.enter(n,t,i[i.length-1]):e.enter(n,t)}var d=t.find("body"),f=Class.extend({init:function(){},open:function(e){var t=this,n=s.defer(),i=e.controller;return i?(c(e.template,e.templateUrl).then(function(i){var r=t.buildWindow(e,i);n.resolve(r)},function(e){n.reject(e)}),n.promise):(n.reject("No controller has been specified."),n.promise)},buildWindow:function(t,r){var a=s.defer(),c=s.defer(),f=o.$new(),h=angular.extend({},t.params);h.$scope=f;var g=function(t,n){(void 0===n||null===n)&&(n=0),u(function(){a.resolve(t),e.leave(m).then(function(){c.resolve(t),f.$destroy(),h.wnd=null,a=null,h=null,m.remove(),m=null,f=null})},n)},p=n(r),m=p(f);h.$element=m;var v={closing:a.promise,closed:c.promise,close:g};h.wnd=v;var y=i(t.controller,h);return t.controllerAs&&(modalScope[t.controllerAs]=y),t.appendElement?l(t.appendElement,m):l(d,m),v}});return new f}])}(window),function(e){"use strict";e.realineModule.factory("pageNavigationService",["$location","$window",function(t,n){return{pageLinks:{},addPageLinks:function(t){e.angular.extend(this.pageLinks,t)},changeLocation:function(i,r){if(e.angular.isString(i)&&(i=this.pageByName(i)),i.Away){var o=i.Url;if(r){var s="";for(var a in r)r.hasOwnProperty(a)&&(""!==s&&(s+="&"),s+=a+"="+encodeURIComponent(r[a]));o+="?"+s}return void(n.location.href=o)}r?t.path(i.Url).search(r):t.path(i.Url).search({})},findPage:function(e){e=e.trimEnd("/");for(var t in this.pageLinks)if(this.pageLinks[t].Url.endsWith(e))return this.pageLinks[t];return null},pageByName:function(e){return this.pageLinks[e]}}}])}(window),function(e){"use strict";e.realineModule.factory("toastrService",[function(){toastr.options={closeButton:!0,debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"300",hideDuration:"500",timeOut:"3500",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};var e=Class.extend({success:function(e,t){toastr.success(e,t)},info:function(e,t){toastr.info(e,t)},warning:function(e,t){toastr.info(e,t)},error:function(e,t,n){(!window.IsRelease||n)&&toastr.error(e,t)}});return new e}])}(window),function(e){"use strict";e.realineModule.factory("uiSettingsService",["utils","$window","$log",function(e,t,n){var i="ui_settings",r=Class.extend({init:function(){var r=null;if(this.settings={isPanelVisible:!0,isPanelMinimized:!0},r=t.localStorage[i],!e.common.isNullOrUndefined(r))try{r=JSON.parse(r),angular.extend(this.settings,r)}catch(o){n.error("Failed to parse messenger settings. "+o)}},save:function(){t.localStorage[i]=JSON.stringify(this.settings)},getIsSideBarCollapsed:function(){return this.settings.isSideBarCollapsed},setIsSideBarCollapsed:function(e){this.settings.isSideBarCollapsed=e,this.save()}});return new r}])}(window),function(e){"use strict";e.realineModule.factory("userNotificationService",["$q","baseService","Domains",function(e,t,n){var i=t.extend({_baseUrl:"api",_domain:n.Auth,init:function(e){this._super(e)},verify:function(e){return this._sendPostQuery("Verify",{Token:e})},sendVerificationCode:function(){return this._sendPostQuery("SendVerificationCode",{VerificationType:1})},requestRecovery:function(e){return this._sendPostQuery("RequestRecovery",e)}});return new i("UserNotification")}])}(window),function(e){"use strict";e.realineModule.factory("userService",["$q","baseService","Domains",function(e,t,n){var i={fullName:"Test user"},r=void 0,o=t.extend({_baseUrl:"api",_domain:n.Auth,init:function(e){this._super(e)},list:function(e){return this._sendPostQuery("List",e)},counts:function(){return this._sendGetQuery("Counts")},getCurrentUser:function(){return this._returnData({User:i,Companies:r})},getProfile:function(e){return this._returnData({User:i,Companies:r})},saveSecurityQuestions:function(e,t){return this._sendPostQuery("SaveSecurityQuestions",{model:[e,t]})},loadSecurityQuestions:function(){return this._sendGetQuery("LoadSecurityQuestions")}});return new o("User")}])}(window),function(e){"use strict";function t(e){return null===e||void 0===e||""===e}e.realineModule.factory("utils",function(){return{onlyNumbers:/^[0-9]+$/,getAsUriParameters:function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t.substring(0,t.length-1)},compareObjects:function(){function e(t,n){var o;if(isNaN(t)&&isNaN(n)&&"number"==typeof t&&"number"==typeof n)return!0;if(t===n)return!0;if("function"==typeof t&&"function"==typeof n||t instanceof Date&&n instanceof Date||t instanceof RegExp&&n instanceof RegExp||t instanceof String&&n instanceof String||t instanceof Number&&n instanceof Number)return t.toString()===n.toString();if(!(t instanceof Object&&n instanceof Object))return!1;if(t.isPrototypeOf(n)||n.isPrototypeOf(t))return!1;if(t.constructor!==n.constructor)return!1;if(t.prototype!==n.prototype)return!1;if(i.indexOf(t)>-1||r.indexOf(n)>-1)return!1;for(o in n){if(n.hasOwnProperty(o)!==t.hasOwnProperty(o))return!1;if(typeof n[o]!=typeof t[o])return!1}for(o in t){if(n.hasOwnProperty(o)!==t.hasOwnProperty(o))return!1;if(typeof n[o]!=typeof t[o])return!1;switch(typeof t[o]){case"object":case"function":if(i.push(t),r.push(n),!e(t[o],n[o]))return!1;i.pop(),r.pop();break;default:if(t[o]!==n[o])return!1}}return!0}var t,n,i,r;if(arguments.length<1)throw new Error("Need two or more arguments to compare");for(t=1,n=arguments.length;n>t;t++)if(i=[],r=[],!e(arguments[0],arguments[t]))return!1;return!0},dummy:function(){},convertStringToBoolean:function(e){return"true"===e||"True"===e?!0:!1},addDays:function(e,t){var n=new Date(e);return n.setDate(e.getDate()+t),n},common:{isUndefined:function(e){return void 0===e},isNullOrUndefined:function(e){return void 0===e||null===e},isDefined:function(e){return!this.isUndefined(e)},isNullOrEmpty:function(e){return null===e||void 0===e||""===e},isTrue:function(e){return null!==e&&void 0!==e&&e===!0},combinePath:function(e,n){return t(e)?n:t(e)?e:(e.endsWith("/")||(e+="/"),n.startsWith("/")&&(n=n.slice(1)),e+n)},newGuid:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},random:function(e,t){return e=e||0,t=t||999999999999999,Math.floor(Math.random()*(t-e+1))+e},isEmpty:function(e){if(this.isNullOrEmpty(e))return!0;var t=angular.copy(e);return delete t.$$hashKey,0===Object.keys(t).length},zoomToTolerance:function(e){return 0===e?1e-4:1e-4/(4.76*e)}},saveEventObject:function(t){e.event=e.event||t},debounce:function(e,t,n,i){var r;return function(){var o,s,a=this,u=arguments;s=function(){r=null,i||e.apply(a,u),n&&n.$applyAsync()},o=i&&!r,clearTimeout(r),r=setTimeout(s,t),o&&e.apply(a,u)}}}})}(window),function(){"use strict";var e,t=Array,n=function(e,t){return e===t};t.__typeName="Array",t.__class=!0,e=t.prototype,e.removeAt=function(e){-1!=e&&this.splice(e,1)},e.contains=function(e){for(var t=this.length;t--;)if(this[t]===e)return!0;return!1},e.sortBy=function(e){return this.slice(0).sort(function(t,n){return t[e]>n[e]?1:t[e]<n[e]?-1:0})},e.remove=function(e,t){var n=this.slice((t||e)+1||this.length);return this.length=0>e?this.length+e:e,this.push.apply(this,n)},e.removeElement=function(e){var t=this.indexOf(e);t>=0&&this.splice(t,1)},e.findItem=Array.prototype.findItem||function(e,t){var n;for(n=0;n<this.length;n++)if(e.call(t,this[n],n,this))return this[n];return null},e.findIndex=Array.prototype.findIndex||function(e,t){var n;for(n=0;n<this.length;n++)if(e.call(t,this[n],n,this))return n;return-1},e.findByField=Array.prototype.findByField||function(e,t){return this.findItem(function(n){return n[t]===e})},e.findIndexByField=Array.prototype.findIndexByField||function(e,t){return this.findIndex(function(n){return n[t]===e})},e.findById=Array.prototype.findById||function(e){return this.findByField(e,"Id")},e.filterDuplicates=Array.prototype.filterDuplicates||function(e,t){var n,i,r={},o=[];for(n=0;n<this.length;n++)i=e.call(t,this[n],n,this),r.hasOwnProperty(i)||(r[i]=i,o.push(this[n]));return o},e.inArray=function(e){for(var t=0;t<this.length;t++)if(e==this[t])return!0;return!1},e.pushIfNotExist=function(e,t){if(0==this.length)return void this.push(e);n=function(e,t){return e==t},t=t||n;for(var i=!1,r=this.length-1;r>=0;r--)if(t(e,this[r])){i=!0;break}i||this.push(e)},e.unshiftWithoutDuplications=function(e,t){t=t||n;for(var i=this.length-1;i>=0;i--)t(e,this[i])&&this.removeAt(i);this.unshift(e)}}(),function(){"use strict";var e,t=Date;t.__typeName="Date",t.__class=!0,e=t.prototype,t.getToday=Date.getToday||function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate())},t.locale={en:{month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],month_names_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},t.fromString=Date.fromString||function(e){return void 0===e||null==e?null:new Date(e)},t.getTimezoneShort=Date.getTimezoneShort||function(){var e=(new Date).toString(),t=e.split("(");if(2===t.length){for(var n=t[1].replace(")",""),i=n.split(" "),r="",o=0;o<i.length;o++)r+=i[o].charAt(0).toUpperCase();return r}},e.getMonthName=function(e){return e=e&&e in Date.locale?e:"en",Date.locale[e].month_names[this.getMonth()]},e.getMonthNameShort=function(e){return e=e&&e in Date.locale?e:"en",Date.locale[e].month_names_short[this.getMonth()]},e.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t},e.toUTC=function(){return Math.floor(new Date(this.getUTCFullYear(),this.getUTCMonth(),this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()).getTime())},e.toUTC2=function(){return Date.UTC(this.getUTCFullYear(),this.getUTCMonth(),this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds())}}(),function(e){"use strict";e.realineModule.factory("dateUtils",function(){return{getCurrentDayRange:function(){var e=new Date,t=e.getDate(),n=e.getFullYear(),i=e.getMonth(),r=new Date(n,i,t),o=new Date(n,i,t+1);return{start:r,end:o}},getFormattedDate:function(e){e=new Date(Date.parse(e));var t=e.getFullYear(),n=(1+e.getMonth()).toString();n=n.length>1?n:"0"+n;var i=e.getDate().toString();return i=i.length>1?i:"0"+i,n+"/"+i+"/"+t},getCurrentWeekRange:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),i=(e.getDate()-e.getDay())/7,r=new Date(t,n,7*i),o=new Date(t,n,7*(i+1));return{start:r,end:o}},getCurrentMonthRange:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),i=new Date(t,n,0),r=new Date(t,n+1,0);return{start:i,end:r}},getCurrentYearRange:function(){var e=(new Date).getFullYear(),t=new Date(e,0,0),n=new Date(e+1,0,0);return{start:t,end:n}},resetTime:function(e){var t=new Date(e.getTime());return t.setHours(0,0,0,0),t},getDate:function(e){return e?e.toJSON().substring(0,10).replace("T"," "):null},getTime:function(e){return e?e.toJSON().substring(10,19).replace("T"," "):null},getDateTime:function(e){return e?e.toJSON().substring(0,19).replace("T"," "):null},getDateTimeWithoutSeconds:function(e){return e?e.toJSON().substring(0,16).replace("T"," "):null},dateDiff:function(e,t,n){if(e&&t){var i=1e3,r=60*i,o=60*r,s=24*o,a=7*s;e=new Date(e),t=new Date(t);var u=t-e;if(isNaN(u))return NaN;switch(n){case"years":return t.getFullYear()-e.getFullYear();case"months":return 12*t.getFullYear()+t.getMonth()-(12*e.getFullYear()+e.getMonth());case"weeks":return Math.floor(u/a);case"days":return Math.floor(u/s);case"hours":return Math.floor(u/o);case"minutes":return Math.floor(u/r);case"seconds":return Math.floor(u/i);default:return}}}}})}(window),function(){"use strict";var e,t=String;t.__typeName="String",t.__class=!0,e=t.prototype,e.endsWith=function(e){return this.substr(this.length-e.length)===e},e.startsWith=function(e){return this.substr(0,e.length)===e},e.trim=function(){return this.replace(/^\s+|\s+$/g,"")},e.trimEnd=function(){return this.replace(/\s+$/,"")},e.trimEnd=function(e){return this.replace(new RegExp("["+e+"]+$"),"")},e.trimStart=function(){return this.replace(/^\s+/,"")},e.endsWith=function(e){var t=this.lastIndexOf(e);return-1!=t&&t+e.length===this.length},e.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return"undefined"!=typeof e[n]?e[n]:t})},e.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)},t.format=function(e,t){return String._toFormattedString(!1,arguments)},t._toFormattedString=function(e,t){for(var n="",i=t[0],r=0;;){var o=i.indexOf("{",r),s=i.indexOf("}",r);if(0>o&&0>s){n+=i.slice(r);break}if(s>0&&(o>s||0>o)){if("}"!==i.charAt(s+1))throw Error("stringFormatBraceMismatch");n+=i.slice(r,s+1),r=s+2}else if(n+=i.slice(r,o),r=o+1,"{"!==i.charAt(r)){if(0>s)throw Error("stringFormatBraceMismatch");if(0>s)break;var a=i.substring(r,s),u=a.indexOf(":"),c=parseInt(0>u?a:a.substring(0,u),10)+1;if(isNaN(c)&&0>s)throw Error("stringFormatInvalid");var l=0>u?"":a.substring(u+1),d=t[c];("undefined"==typeof d||null===d)&&(d=""),n+=d.toFormattedString?d.toFormattedString(l):e&&d.localeFormat?d.localeFormat(l):d.format?d.format(l):d.toString(),r=s+1}else n+="{",r++}return n}}(),function(e){"use strict";e.realineModule.value("authToken","")}(window),function(e){"use strict";e.realineModule.directive("arrayRequired",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r=t[0].querySelector("input");i.showValidation=!1;var o=!1;r.onfocus=function(){o=!0,i.showValidation=!1,e.safeApply()},r.onblur=function(){o=!1,e.safeApply()},r.onmouseenter=function(){i.showValidation=!o,e.$apply()},r.onmouseleave=function(){i.showValidation=!1,e.$apply()},i.$validators.arrayRequired=function(e,t){return void 0!==e&&null!==e&&e.length>0?!0:!1}.bind(this)}}})}(window),function(e){"use strict";e.realineModule.directive("compareTo",function(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(e,t,n,i){i.$validators.compareTo=function(t){return t===e.otherModelValue},e.$watch("otherModelValue",function(){i.$validate()})}}})}(window),function(e){"use strict";e.realineModule.directive("focusValidation",function(){return{restrict:"A",require:"ngModel",scope:{field:"="},link:function(e,t,n,i){var r=e;t.on("focus",function(){i.isFocused=!0,r.field&&(r.field.isFocused=!0),e.$apply()}),t.on("blur",function(){i.isFocused=!1,r.field&&(r.field.isFocused=!1),e.$apply()})}}})}(window),function(e){"use strict";e.realineModule.directive("formValidation",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r,o=angular.isString(n.submited)?e.$eval(n.submited):n.submited,s=angular.isString(n.field)?e.$eval(n.field):n.field;void 0!==n.raiseValidation&&(r=angular.isString(n.raiseValidation)?e.$eval(n.raiseValidation):n.raiseValidation),e.$watch(function(){return i.$$parentForm.$submitted},function(e,t){o=e,r===!0&&(i.startEntering=!1,i.$$parentForm.$submitted=!1),a()}.bind(this)),e.$watch(function(){return i.$modelValue},function(e,n){u(t,i)}.bind(this));var a=function(){r===!0?i.showValidation=i.isFocused&&i.startEntering:i.showValidation=i.isFocused&&i.startEntering||o,e.safeApply()},u=function(e,t){var n=!t.$invalid,i=!t.$dirty,r=angular.element(e);n?(r.addClass("has-success"),r.removeClass("has-error")):!n&&t.$$parentForm&&t.$$parentForm.$submitted&&(r.addClass("has-error"),r.removeClass("has-success")),i?r.addClass("is-empty"):r.removeClass("is-empty"),t.isFocused?r.addClass("has-focus"):r.removeClass("has-focus")};t.on("focus",function(){i.isFocused=!0,s&&(s.isFocused=!0),a(),u(t,i)}),t.on("blur",function(){i.isFocused=!1,s&&(s.isFocused=!1),a(),u(t,i)}),t.on("input",function(){i.startEntering=i.startEntering||!0,a()})}}})}(window),function(e){"use strict";e.realineModule.directive("hoverValidation",function(){return{restrict:"A",scope:{field:"="},link:function(e,t,n,i){var r=e;t.on("mouseleave",function(){r.field&&(r.field.isHovered=!1),r.$apply()}),t.on("mouseenter",function(){r.field&&(r.field.isHovered=!0),r.$apply()})}}})}(window),function(e){"use strict";e.realineModule.directive("validNumber",function(){return{require:"?ngModel",link:function(t,n,i,r){r&&(r.$parsers.push(function(t){e.angular.isUndefined(t)&&(t="");var n=t.replace(/[^0-9]+/g,"");return t!==n&&(r.$setViewValue(n),r.$render()),n}),n.bind("keypress",function(e){32===e.keyCode&&e.preventDefault()}))}}})}(window),function(e){"use strict";e.realineModule.factory("BaseController",["$routeParams","backService","toastrService","utils","pageNavigationService","authConstants","CrossDomainStorage","authToken","$localStorage","$q","$timeout",function(e,t,n,i,r,o,s,a,u,c,l){var d=i.common,f=Class.extend({init:function(e){this.scope=e,this.common=d,this.pageLinks=r.pageLinks,this.scope.$on("$destroy",function(){this.onDestroy()}.bind(this)),e.$on("$viewContentLoaded",function(){this.onLoaded()}.bind(this))},initPageLoad:function(){this.checkAuth().then(function(){this.load()}.bind(this))},load:function(){},back:function(){t.back()},onDestroy:function(){},onLoaded:function(){this.loaded=!0},wait:function(e,t,i){!i&&this.scope.enableLoadingIndicator(e),t&&e.then(function(){n.success(t)})},checkAuth:function(){var e=c.defer();return s.get(o.localStorage).then(function(t){return t.value?(a=t.value,u[o.localStorage]=t.value,void e.resolve("succeed")):void r.changeLocation(r.pageLinks.Login,{returnUrl:window.location.href})}),e.promise}});return f}])}(window),function(e){e.realineModule.factory("BasePopupController",["$timeout",function(e){var t=Class.extend({init:function(e,t){this.$scope=e,this.$modalInstance=t,this.initInternal(),this.$scope.updating=!1,this.$scope.controller=this,this.$scope.$on("$destroy",this.onDestroy.bind(this))},initInternal:function(){this.$scope.cancel=function(){this.$modalInstance.dismiss("cancel")}.bind(this),this.$scope.ok=function(e){(void 0===e||e===!0)&&this.apply()}.bind(this),this.$modalInstance.opened.then(function(){e(function(){this.loadData()}.bind(this),500)}.bind(this))},loadData:function(){},apply:function(){},onDestroy:function(){}});return t}])}(window),function(e){"use strict";e.realineModule.factory("baseApiService",["baseService",function(e){var t=e.extend({_baseUrl:"api",init:function(e){this._super(e)},Save:function(e){return this._sendPostQuery("Save",e)},Patch:function(e){return this._sendPostQuery("Patch",e)},List:function(e){return this._sendPostQuery("List",e)},Get:function(e){return this._sendGetQuery("Get",{id:e})},Delete:function(e){return this._sendPostQuery("Delete",{id:e})},DeleteList:function(e){return this._sendPostQuery("DeleteList",e)}});return t}])}(window),function(e){"use strict";e.realineModule.factory("baseService",["$http","$q","authConstants","CrossDomainStorage","authToken","$localStorage","customHeaders",function(e,t,n,i,r,o,s){var a="1.0.0.0",u=Class.extend({_domain:"",_baseUrl:"",_pathSeparator:"/",init:function(e){this.resource=e},_buildUrl:function(e){return e?[this._domain,this._baseUrl,this.resource,e].join(this._pathSeparator):[this._domain,this._baseUrl,this.resource].join(this._pathSeparator)},_sendGetQuery:function(t,i,u){var c={method:"GET",url:this._buildUrl(t),params:i};return void 0===u&&(u=a),c.headers={},u&&(c.headers[s.version]=u),r=o[n.localStorage],r&&(c.headers[n.header]=r),e(c).success(function(e,t,n,i){return e}).error(function(e,t,n,i){return e})},_sendPostQuery:function(t,i,u){var c={method:"POST",url:this._buildUrl(t),data:i};return void 0===u&&(u=a),c.headers={},u&&(c.headers[s.version]=u),r=o[n.localStorage],r&&(c.headers[n.header]=r),e(c).success(function(e,t,n,i){return e}).error(function(e,t,n,i){return e})},_returnData:function(e){var n=t.defer();return n.resolve(e),n.promise}});return u}])}(window);